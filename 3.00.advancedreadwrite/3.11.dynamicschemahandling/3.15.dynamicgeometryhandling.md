# 动态几何对象

 动态几何对象

模式的三个主要组件：

要素类型

属性

几何对象

......最后要研究的是几何对象; 特别是工作空间作者如何决定哪些几何对象对特定要素类型有效。

模式几何对象定义

输出数据集中允许的几何对象体取决于使用的格式。某些格式允许任何几何对象（或几何对象的混合）存在于要素类型中。

但是，某些格式不允许在单个要素类型中混合使用几何对象，这可能会导致问题。

例如，标准（静态）地理数据库写模块要素类型允许您选择该文件中允许的几何对象：

在动态工作空间中，这会发生变化。允许的几何对象类型取决于所选模式中定义的类型：

默认情况下 - 当模式源与读模块读取的源数据相同时 - 允许的几何对象体与源数据集的模式重复。

但是当Schema Source参数更改为指向另一个数据集时，则允许的几何对象是由该数据集的模式定义的。

如果要写入的数据的几何对象与该模式不同，并且目标格式不支持多种几何对象类型，则将删除要素而不是写入。

固定几何对象定义

即使在动态转换中，工作空间作者也可以将允许的几何对象体的动态模式参数设置回固定值。例如，作者可以选择geodb\_polygon（对于地理数据库）或shape\_polygon（对于Shapefile）。

这将覆盖由所选模式源定义的几何对象，以便可以编写多边形要素（但仅限多边形要素）。

第一个要素几何对象定义

定义几何对象类型的另一个选项是First Feature定义几何对象类型。

在动态转换中难以处理几何对象类型，因为源数据中的几何对象类型可能存在一定程度的不确定性，以及它们与源模式中指定的几何对象类型的匹配程度。但是，这种相同的不确定性使得设置固定的几何对象定义变得困难。

第一个要素定义几何对象类型选项解决了这个问题。选中后，到达写模块的第一个要素将设置几何对象类型。这样，作者不需要事先知道正在处理的几何图形或图式允许的几何图形。

例如，如果第一个要素是多边形，则该要素类型的几何类型仅设置为多边形; 如果具有相同要素类型的后续要素不具有相同的多边形几何对象，则会被拒绝。

|  直觉姐姐说...... |
| :--- |
|  如果您已经了解了迄今为止关于动态转换的所有内容，而不必至少阅读每个部分两次，那么您的表现非常好。这是一个非常高级的主题，并不是每个人都会第一次理解它。  基本上所有这些设置都允许我们创建一个输出数据集，其模式以多种方式定义。  如果您在面对超出常规静态工作空间的模式处理时能够保持这种想法，您将知道需要哪些要素，并可以在本手册或[FME知识中心](https://knowledge.safe.com/index.html)查找，并能够找出技术符合您的特殊需求。  此外，这张表可能有帮助......  |

&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/article&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt;

