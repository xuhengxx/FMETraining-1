# 通用读模块和写模块

 通用读模块/写模块

通用读模块和通用写模块允许FME工作空间从格式限制中解脱出来。

所有其他读模块和写模块都与特定格式的数据相关联，而通用读模块和通用写模块则不然。通用读模块能够读取几乎任何格式的数据，通用写模块能够写入几乎任何格式的数据。

这样，单个工作空间可用于处理不同的数据格式，而无需专门为该格式设置。

通用读模块

通用读模块的使用方式与任何其他读模块相同; 通过在Add Reader（或Generate Workspace）对话框中指定格式：

源数据集是AutoCAD DWG数据集，但FME还不知道。运行工作空间时，FME会检查所选文件的扩展名，以便自行确定。

稍后，最终用户可能会选择一个不同的文件 - 以完全不同的格式 - 进行读取，如下所示：

同样，在运行时，FME检查文件扩展名以识别数据格式，然后 - 发现它是MicroStation DGN - 读取它就像它是真正的DGN读模块一样。

这样，可以使单个读模块读取任何格式的数据。

 直觉姐姐说......

你认为一定有个限制，对吗？&lt;/font&gt;嗯，这是真的。首先，这种技术仅适用于基于文件的格式（它不适用于数据库或Web格式）。其次，通用读模块不会受到意外输入转移的影响，因此切换数据集 - 无论格式如何 - 仅适用于兼容的模式（见下文）。

&lt;/font&gt;&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;

通用读模块要素类型

意外输入移除器（Unexpected Input Remover）是FME中的功能，它会根据在工作空间中定义的要素类型（层）列表过滤输入数据。如果未在工作空间中定义输入数据，则会从转换中删除它。

在上一个示例中，AutoCAD数据集中的流量信号存储在名为“TrafficSignals”的图层上，工作空间将读模块要素类型命名为。但是，如果MicroStation文件将数据存储在不同的层上，那么这将是结果：

所有778条记录都从转换中删除。因此，尽管通用读模块允许您读取不同格式的数据集，但限制是每个数据集必须将其图层定义为工作空间中的要素类型。

当然，允许所有图层通过的简单方法是在“要素类型属性”中设置“合并要素类型”：

通过该设置，无论格式如何，任何数据层都可以传递到工作空间。当然，即便如此，您还需要注意假设哪些属性可用！

通用写模块

通用写模块的使用方式与任何其他写模块相同; 通过在Add Reader（或Generate Workspace）对话框中指定格式：

将目标数据集指定为文件夹。FME不知道要写入的格式，因此不知道它是基于文件还是基于文件夹。在添加写模块时，作者可以通过参数指定要写入的格式：

...由作者在“导航”窗口中，或者最终用户可以使用自动创建的用户参数在运行时指定它：

这样，可以使单个写模块编写任何格式的数据，该格式由最终用户在运行时选择。

 直觉姐姐说......

通用读模块和写模块本质上只处理灵活的格式，但也可以使用合并过滤器或扇出来设置灵活的图层。 &lt;/font&gt;&lt;/font&gt;  
  
但是，要读取的每个数据集必须具有相同的属性模式。此外，每个写入的数据集都会收到相同的属性模式。这部分不灵活。&lt;/font&gt;  
  
灵活的属性模式需要使用自动属性定义或动态转换。

&lt;/font&gt;&lt;/font&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/article&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt;

